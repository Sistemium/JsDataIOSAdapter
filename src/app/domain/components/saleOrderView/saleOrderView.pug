.sale-order-view

  .headers
    .processing Статус
    .salesman(ng-if='!vm.currentSalesman') ТП
    .outlet Точка
    .totals Итоги

  #scroll-main.scroll-y(
  cg-busy='vm.cgBusy'
  resize
  resize-offset-top='5'
  vs-repeat='{{vm.rowHeight()}}'
  )
    .list-item(
    ng-repeat='item in vm.giveData track by item.id'
    )
      .list-group-header.date(
      ng-if='!item.outletId'
      )
        .title {{ ::item.date | amDateFormat:'DD.MM.YYYY' }}

      a.sale-order(
      href
      ng-if='item.outletId'
      ng-click='vm.itemClick(item)'
      )
        .list-item-body

          .processing(ng-class='item.workflowStep.cls')
            span.badge {{ item.workflowStep.label }}

          .salesman(ng-if='!vm.currentSalesman')
            span.name {{ item.salesman.tinyName }}

          .outlet(ng-class='{blocked: item.outlet.isActive === false}')
            span.name {{ item.outlet.name }}
            .address
              .gray {{ item.outlet.address }}
              .salesman(ng-if='!vm.currentSalesman') {{ ::item.salesman.tinyName }}

          .totals
            .cost
              currency-value(value='item.totalCostCached() || 0')
            .position
              strong {{ item.totalPositionsCached() || 0 }}
              span П

        .list-item-footer

          span.comment-text {{ item.commentText }}

          span.icon(
          ng-if='item.processingMessage'
          ng-class='item.workflowStep.messageCls'
          )
            i.glyphicon.glyphicon-warning-sign

  .alert.alert-info.centered(ng-if='!vm.data.length && vm.isReady') Нет заказов
