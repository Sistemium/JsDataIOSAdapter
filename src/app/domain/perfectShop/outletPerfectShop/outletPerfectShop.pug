.outlet-perfect-shop

  .outlet
    .name {{ vm.outlet.name }}
    .address
      small {{ vm.outlet.address }}

  .level Достигнут уровень: {{ vm.level || '-' }}
  .next-level Следующий уровень: {{ vm.nextLevel || '-' }}

  table.blocks(border="1")
    thead
      th Блок
      th Цель отгрузки ₽
      th Факт ₽
      th Ассортимент
      th Условие
      th Цель
      th Факт
    tbody.block(ng-repeat="block in vm.blocks track by block.name")
      tr(ng-repeat="assortment in block.assortments track by $index")
        td.name(rowspan="{{block.rowspan}}" ng-if="!$index") {{ block.name }}
        td.goal(rowspan="{{block.rowspan}}" ng-if="!$index") {{ block.goal | number:2 }}
        td.value(
          rowspan="{{block.rowspan}}" ng-if="!$index"
          ng-class="{ done: block.result }"
        ) {{ block.value | number:2 }}
        td.name(
          ng-if="!$index || assortment.name !== block.assortments[$index - 1].name"
          rowspan="{{ assortment.rowspan }}"
        ) {{ assortment.name }}
        td.rule {{ vm.ruleName(assortment.rule) }}
        td.goal {{ assortment.goal | number }}
        td.value(ng-class="{ done: assortment.result }") {{ assortment.value | number }}
