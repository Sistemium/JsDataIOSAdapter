h3 Редактировать контрагента

hr

section.row-fluid(cg-busy='{promise: vm.busy, message: vm.busyMessage}')
  form.form-horizontal(
  name="editPartnerForm"
  novalidate
  )
    .form-group
      label.col-sm-4.control-label(for="inputName") Полное название
      .col-sm-8
        p.form-control-static
          span {{ vm.selectedLegalForm.name }} "{{ vm.name }}"
          = ' '
          span.gray {{ vm.inn }}
    .form-group
      label.col-sm-4.control-label(for="inputName")
        | Контрагент
      .col-sm-8
        input#inputName.form-control(
        ng-model='vm.name'
        auto-focus='false'
        type="text"
        name="name"
        ng-required='true'
        placeholder="Название без кавычек"
        autocomplete="off"
        )
    .form-group
      label.col-sm-4.control-label(for="inputLegalForm") Форма собственности
      .col-sm-8
        stm-typeahead(
        input-required='true'
        input-model='vm.legalForm'
        selected-model='vm.selectedLegalForm'
        input-id='inputLegalForm'
        input-class='form-control'
        placeholder='Нажмите для выбора'
        placeholder-focused='Выберите из предложенного'
        rows-data='vm.legalForms'
        rows-filters='filter:{name:$viewValue}'
        row-as='name'
        )
    .form-group(
    ng-class="editPartnerForm.inn.$dirty && editPartnerForm.inn.$invalid && 'has-error'"
    )
      label.col-sm-4.control-label(for="inputINN") ИНН
      .col-sm-8
        input#inputINN.form-control(
        inn-input
        type="text"
        name="inn"
        ng-pattern='innPattern'
        placeholder='10 или 12 цифр (если известен)'
        ng-model="vm.inn"
        autocomplete="off"
        )
        div(
        class="help-block"
        ng-if="editPartnerForm.inn.$dirty && (editPartnerForm.inn.$error.pattern || editPartnerForm.inn.$error.innInput)"
        ng-messages="editPartnerForm.inn.$error"
        )
          p(ng-message="pattern") ИНН: 10 или 12 цифр
          p(ng-message="innInput") Неверная контрольная сумма
    hr
    .col-sm-4.col-sm-offset-8
      .form-group.text-right
        fieldset
          button.btn.margin.btn-primary(
          ng-if='!vm.isInCancelProcess'
          ng-disabled='!vm.partnerDataWasChanged() || editPartnerForm.$invalid'
          ng-click='vm.submit()'
          ) Сохранить
          button.btn.margin.btn-warning(
          ng-if='!vm.isInCancelProcess'
          ng-click='vm.cancel(editPartnerForm)'
          ) Отменить
          button.btn.margin.btn-primary(
          ng-if='vm.isInCancelProcess'
          ng-click='vm.cancelConfirm()'
          ) Да, отменить
          button.btn.margin.btn-warning(
          ng-if='vm.isInCancelProcess'
          ng-click='vm.isInCancelProcess = false'
          ) Нет
