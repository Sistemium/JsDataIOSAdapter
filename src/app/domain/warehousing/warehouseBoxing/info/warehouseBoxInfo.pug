.warehouse-box-info(cg-busy="vm.cgBusy")

  .title
    .barcode üì¶ {{ vm.warehouseBox.barcode }}
    .count {{ vm.items.length | number }}

  .status

    .processing {{ vm.warehouseBox.statusLabel() }}

    .picking-order(ng-if="vm.pickingOrder")
      .ndoc {{ vm.pickingOrder.ndoc }}
      .date {{ vm.pickingOrder.date | amDateFormat: 'DD.MM.YY' }}

  .item-info(ng-if="vm.currentItem")
    warehouse-item-info(warehouse-item="vm.currentItem")
    a(href ng-click="vm.removeItemClick()") –û—Ç–º–µ–Ω–∞

  .errored-items(ng-if="vm.erroredItems.length")
    label –û—à–∏–±–∫–∏ –≤ –º–∞—Ä–∫–∞—Ö
    strong {{ vm.erroredItems.length }}

  .box-orders.list-group(ng-if="vm.boxOrders.length")
    .list-group-item.list-group-item-warning
      strong –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è —Å –æ—à–∏–±–∫–æ–π
    .list-group-item.picking-order(ng-repeat="order in vm.boxOrders track by order.id")
      .ndoc {{ order.ndoc }}
      .date {{ order.date | amDateFormat: 'DD.MM.YY' }}
      .actions
        a(href ng-click="vm.boxOrderClick(order)") –ò—Å–ø—Ä–∞–≤–∏—Ç—å

  .items
    .articles.list-group.stock-batch-items
      .list-group-item(ng-if="vm.lastConfirmed.article")
        warehouse-article(ng-model="vm.lastConfirmed.article")
      .list-group-item(ng-if="!vm.articles.length && vm.lastConfirmed.stamps.length")
        .stamp-label
          label üè∑
          span –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –º–∞—Ä–æ–∫:
          strong {{ vm.lastConfirmed.stamps.length }} —à—Ç.
      .list-group-item(ng-if="vm.lastConfirmed.stockBatchBarcode")
        .stamp-label
          label üîñ
          span –ø–∞—Ä—Ç–∏—è:
          strong {{ vm.lastConfirmed.stockBatchBarcode }}
      .list-group-item.article(ng-repeat="a in vm.articles track by a.id")
        warehouse-article(ng-model="a.article")
        .totals
          .confirmed(ng-if="a.confirmedItems.length") {{ a.confirmedItems.length }} –∏–∑
          .count {{ a.items.length | number:0 }}
          .status(ng-if="vm.confirmedItems.length") {{ a.confirmationStatus }}

  .action-buttons

    button.btn.btn-warning.return(
      ng-click="vm.confirmBoxClick()"
      ng-hide="vm.confirmedItems.length"
      ng-if="vm.isFullBox()"
      ng-disabled="vm.lastConfirmed"
    ) {{ vm.lastConfirmed ? vm.lastConfirmed.statusText() : '–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –Ω–∞ —Å–∫–ª–∞–¥–µ' }}

    button.btn.btn-warning.return(
      ng-click="vm.withdrawClick()"
      ng-hide="vm.confirmedItems.length"
      ng-if="vm.warehouseBox.processing==='picked' && vm.items.length"
    ) –í–µ—Ä–Ω—É—Ç—å –Ω–∞ —Å–∫–ª–∞–¥

    button.btn.btn-default.return(
      ng-click="vm.rescanClick()"
      ng-if="vm.confirmedItems.length"
    ) –û—Ç–º–µ–Ω–∞ –ø–µ—Ä–µ—Å—á–µ—Ç–∞

    button.btn.btn-warning.return(
      ng-click="vm.confirmWithdrawClick()"
      ng-if="vm.confirmedItems.length"
    ) {{ vm.confirmLabel() }}

    button.btn.btn-primary.return(
      ng-click="vm.confirmClick()"
      ng-if="vm.boxIsPicked()"
      ng-show="vm.confirmedItems.length"
    ) –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –≤ –∑–∞–∫–∞–∑–µ
