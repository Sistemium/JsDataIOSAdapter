.stock-taking-item-view(ng-class="{unsaved: vm.stockTakingItem.DSHasChanges()}")


  .fields


    .field.name
      label –¢–æ–≤–∞—Ä
      strong {{ vm.stockTakingItem.article.name }}

    .field.result
      label –†–µ–∑—É–ª—å—Ç–∞—Ç
      stock-taking-article-volume(ng-model="vm.stockTakingArticle")

    stock-taking-article-item-list(
    items="vm.stockTakingArticleItems"
    active-id="vm.stockTakingItemId"
    on-click="vm.itemClick($item)"
    )

    .field.barcode
      label –®—Ç—Ä–∏—Ö-–∫–æ–¥
      strong
        confirmed-button(on-confirm="vm.deleteClick()")
          i.glyphicon.glyphicon-trash
          cancel
            i.glyphicon.glyphicon-lock
        span {{ vm.stockTakingItem.barcode || '–ë–µ–∑ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è' }}

  .marks.list-group(ng-if="vm.stockTakingItem.marks.length")
    .item-mark.list-group-item(
        ng-repeat="mark in vm.stockTakingItem.marks | orderBy:'-timestamp' track by mark.id"
      )
      .code üè∑ {{ ::mark.displayLabel }}
      .timestamp {{ ::mark.timestamp | dateTime:{seconds: true, date: false} }}

  .editing(ng-if="!vm.stockTakingItem.marks.length")

    .field.volume(
    ng-class="{touched: vm.volumeViewTouched}"
    )
      label –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ
      strong.animate(sa-animate-on-change="vm.stockTakingItem.volume" change-class="change-up")
        | {{ vm.volumeView || '‚ö†Ô∏è –£–∫–∞–∂–∏—Ç–µ' }}

    sa-keyboard(
    datatype='boxPcs'
    touched='vm.volumeViewTouched'
    model='vm.volumeView'
    export-model='vm.stockTakingItem.volume'
    box-rel='vm.stockTakingItem.packageRel'
    disable-delete="true"
    )

    .buttons(ng-if="vm.volumeViewTouched")
      button.btn.btn-danger(ng-click="vm.cancelClick()") –û—Ç–º–µ–Ω–∏—Ç—å
      button.btn.btn-primary(ng-click="vm.saveClick()") –ì–æ—Ç–æ–≤–æ
